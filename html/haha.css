
        :root {
            --bg: #1a0505;
            --card-bg: rgba(255, 255, 255, 0.05);
            --text: #ffffff;
            --accent: #d4af37;
            --sub-text: #ffccd5;
            --msg-bg: rgba(26, 5, 5, 0.8);
            --msg-border: var(--accent);
            --transition: 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        [data-theme="light"] {
            --bg: #fff5f5;
            --card-bg: rgba(255, 255, 255, 0.8);
            --text: #4a0e0e;
            --accent: #c9184a;
            --sub-text: #800020;
            --msg-bg: rgba(255, 255, 255, 0.9);
            --msg-border: #c9184a;
        }

        /* --- CUSTOM CURSOR --- */
        * { cursor: none !important; }
        #custom-cursor { width: 20px; height: 20px; background: var(--accent); border-radius: 50%; position: fixed; pointer-events: none; z-index: 999999; transition: transform 0.1s ease-out; mix-blend-mode: difference; }
        #cursor-outline { width: 40px; height: 40px; border: 2px solid var(--accent); border-radius: 50%; position: fixed; pointer-events: none; z-index: 999998; transition: all 0.15s ease-out; }

        /* --- LOADING SCREEN --- */
        #loader { position: fixed; inset: 0; background: var(--bg); display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 20000; transition: opacity 1s ease; }
        .loader-heart { font-size: 60px; animation: heartBeat 1.2s infinite; margin-bottom: 20px; }
        .loading-text { font-family: 'Montserrat'; letter-spacing: 4px; font-size: 0.8rem; color: var(--accent); margin-bottom: 10px; }
        .progress-container { width: 200px; height: 2px; background: rgba(0,0,0,0.1); border-radius: 10px; overflow: hidden; }
        .progress-bar { width: 0%; height: 100%; background: var(--accent); transition: width 0.4s ease; }
        @keyframes heartBeat { 0%, 70%, 100% { transform: scale(1); } 14%, 42% { transform: scale(1.3); } }

        body, html { margin: 0; padding: 0; height: 100%; font-family: 'Montserrat', sans-serif; background-color: var(--bg); color: var(--text); transition: background-color var(--transition), color var(--transition); overflow-x: hidden; }

        .petal { position: fixed; top: -10%; user-select: none; pointer-events: none; z-index: 9999; animation: fall linear forwards; }
        @keyframes fall { to { transform: translateY(110vh) rotate(360deg); } }

        /* --- PHASE 1: PODLOCK --- */
        #lock-screen { position: fixed; inset: 0; display: flex; flex-direction: column; align-items: center; justify-content: center; background: var(--bg); z-index: 10000; transition: 1s ease-in-out; }
        .podlock-box { background: var(--card-bg); backdrop-filter: blur(20px); padding: 50px 30px; border-radius: 20px; border: 1px solid rgba(255,255,255,0.1); text-align: center; width: 320px; transition: 0.3s; }
        .heart-lock { font-size: 50px; animation: pulse 1.5s infinite; filter: drop-shadow(0 0 10px var(--accent)); }
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } }
        input { background: transparent; border: none; border-bottom: 2px solid var(--accent); color: var(--text); font-size: 1.5rem; text-align: center; width: 80%; outline: none; letter-spacing: 5px; margin-top: 20px; }
        #hint { height: auto; min-height: 20px; font-size: 0.8rem; color: #ff4d4d; font-weight: bold; margin-top: 15px; opacity: 0; transition: 0.3s; padding: 0 10px; }
        #forgot-pw { margin-top: 15px; display: block; font-size: 0.7rem; color: var(--accent); text-decoration: underline; cursor: pointer; opacity: 0.7; }

        /* --- PHASE 2: MAIN --- */
        #main-wrapper { display: none; text-align: center; padding-top: 60px; animation: fadeIn 1.5s ease; }
        h1 { font-family: 'Great Vibes', cursive; font-size: 4.5rem; color: var(--accent); margin-bottom: 10px; }
        
        #timer-question-btn { 
            background: var(--accent); 
            color: white; 
            border: none; 
            padding: 18px 40px; 
            border-radius: 50px; 
            font-weight: 600; 
            font-family: 'Montserrat'; 
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin: 0 auto;
        }
        
        #timer-section { display: none; margin-top: 20px; }
        .timer-container { margin: 30px auto; max-width: 500px; border-top: 1px solid var(--accent); border-bottom: 1px solid var(--accent); padding: 25px 0; }
        .timer-grid { display: flex; justify-content: space-around; }
        .timer-box { font-size: 2.5rem; color: var(--accent); font-weight: 600; }
        .timer-box span { display: block; font-size: 0.7rem; color: var(--text); letter-spacing: 3px; }

        /* --- LOVE METER STYLING --- */
        #love-meter-area { margin: 40px auto; padding: 20px; max-width: 400px; }
        #giant-heart { font-size: 50px; transition: 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); display: inline-block; margin-bottom: 10px; }
        #love-percent { font-size: 1.5rem; font-weight: bold; color: var(--accent); margin-bottom: 15px; display: block; }
        .meter-btn { background: transparent; border: 2px solid var(--accent); color: var(--accent); padding: 10px 25px; border-radius: 50px; font-weight: 600; cursor: pointer; transition: 0.3s; }

        #game-area { margin-top: 50px; min-height: 200px; }
        #open-btn { background: var(--accent); color: white; border: none; padding: 18px 45px; border-radius: 50px; font-weight: 600; cursor: pointer; transition: 0.3s; }

        /* --- PHASE 3: FINAL MESSAGE --- */
        #final-message-screen { display: none; opacity: 0; transition: 1s ease; max-width: 800px; margin: 40px auto; padding: 20px; text-align: center; }
        .message-container { position: relative; padding: 10px; margin-bottom: 40px; border-radius: 40px; animation: borderGlow 3s infinite alternate; }
        
        /* Updated Long Message Font for Readability */
        .long-message { 
            position: relative; 
            font-family: 'Montserrat', sans-serif; 
            font-size: 1.4rem; 
            font-weight: 400;
            line-height: 1.8; 
            padding: 50px; 
            border-radius: 30px; 
            background: var(--msg-bg); 
            color: var(--text); 
            border: 4px double var(--msg-border); 
            box-shadow: inset 0 0 30px rgba(0, 0, 0, 0.1); 
            min-height: 250px; 
            white-space: pre-wrap; 
            z-index: 1; 
            overflow: hidden; 
            text-align: center;
        }
        
        /* --- POLAROID STYLE SCRATCH CARD --- */
        #scratch-wrapper { display: none; opacity: 0; transition: 1s ease; margin-top: 30px; }
        .polaroid-frame { background: white; padding: 15px 15px 60px 15px; width: 280px; margin: 0 auto; box-shadow: 0 10px 30px rgba(0,0,0,0.5); border-radius: 4px; position: relative; }
        #scratch-container { position: relative; width: 250px; height: 250px; margin: 0 auto; overflow: hidden; background: #222; }
        #scratch-canvas { position: absolute; top: 0; left: 0; z-index: 20; cursor: crosshair; touch-action: none; }
        .scratch-reveal-content { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 10; }
        .scratch-reveal-content img { width: 100%; height: 100%; object-fit: cover; }

        .back-btn { position: fixed; top: 25px; left: 25px; z-index: 10001; background: var(--card-bg); border: 1px solid var(--accent); color: var(--accent); padding: 10px 20px; border-radius: 50px; font-family: 'Montserrat'; font-weight: 600; display: none; cursor: pointer; }
        .controls { position: fixed; top: 25px; right: 25px; z-index: 10001; }
        .icon-btn { background: var(--card-bg); border: 1px solid var(--accent); color: var(--accent); width: 45px; height: 45px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-bottom: 10px; cursor: pointer; }
        
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes borderGlow { from { box-shadow: 0 0 10px rgba(212, 175, 55, 0.2); } to { box-shadow: 0 0 25px var(--accent); } }
    